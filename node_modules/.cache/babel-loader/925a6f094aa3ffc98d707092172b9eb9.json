{"ast":null,"code":"import{WETH}from'@bscswap/sdk';import{useMemo}from'react';import{useActiveWeb3React}from'../../hooks';import{useAllTokenBalances}from'../../state/wallet/hooks';// compare two token amounts with highest one coming first\nfunction balanceComparator(balanceA,balanceB){if(balanceA&&balanceB){return balanceA.greaterThan(balanceB)?-1:balanceA.equalTo(balanceB)?0:1;}else if(balanceA&&balanceA.greaterThan('0')){return-1;}else if(balanceB&&balanceB.greaterThan('0')){return 1;}return 0;}function getTokenComparator(weth,balances){return function sortTokens(tokenA,tokenB){// -1 = a is first\n// 1 = b is first\n// sort ETH first\nif(weth){if(tokenA.equals(weth))return-1;if(tokenB.equals(weth))return 1;}// sort by balances\nvar balanceA=balances[tokenA.address];var balanceB=balances[tokenB.address];var balanceComp=balanceComparator(balanceA,balanceB);if(balanceComp!==0)return balanceComp;// sort by symbol\nreturn tokenA.symbol.toLowerCase()<tokenB.symbol.toLowerCase()?-1:1;};}export function useTokenComparator(inverted){var _useActiveWeb3React=useActiveWeb3React(),chainId=_useActiveWeb3React.chainId;var weth=WETH[chainId];var balances=useAllTokenBalances();var comparator=useMemo(function(){return getTokenComparator(weth,balances!==null&&balances!==void 0?balances:{});},[balances,weth]);return useMemo(function(){if(inverted){return function(tokenA,tokenB){return comparator(tokenA,tokenB)*-1;};}else{return comparator;}},[inverted,comparator]);}","map":{"version":3,"sources":["/Users/lap14205/Documents/home/blockchain_learning/bscswap-interface/src/components/SearchModal/sorting.ts"],"names":["WETH","useMemo","useActiveWeb3React","useAllTokenBalances","balanceComparator","balanceA","balanceB","greaterThan","equalTo","getTokenComparator","weth","balances","sortTokens","tokenA","tokenB","equals","address","balanceComp","symbol","toLowerCase","useTokenComparator","inverted","chainId","comparator"],"mappings":"AAAA,OAA6BA,IAA7B,KAAyC,cAAzC,CACA,OAASC,OAAT,KAAwB,OAAxB,CACA,OAASC,kBAAT,KAAmC,aAAnC,CACA,OAASC,mBAAT,KAAoC,0BAApC,CAEA;AACA,QAASC,CAAAA,iBAAT,CAA2BC,QAA3B,CAAmDC,QAAnD,CAA2E,CACzE,GAAID,QAAQ,EAAIC,QAAhB,CAA0B,CACxB,MAAOD,CAAAA,QAAQ,CAACE,WAAT,CAAqBD,QAArB,EAAiC,CAAC,CAAlC,CAAsCD,QAAQ,CAACG,OAAT,CAAiBF,QAAjB,EAA6B,CAA7B,CAAiC,CAA9E,CACD,CAFD,IAEO,IAAID,QAAQ,EAAIA,QAAQ,CAACE,WAAT,CAAqB,GAArB,CAAhB,CAA2C,CAChD,MAAO,CAAC,CAAR,CACD,CAFM,IAEA,IAAID,QAAQ,EAAIA,QAAQ,CAACC,WAAT,CAAqB,GAArB,CAAhB,CAA2C,CAChD,MAAO,EAAP,CACD,CACD,MAAO,EAAP,CACD,CAED,QAASE,CAAAA,kBAAT,CACEC,IADF,CAEEC,QAFF,CAG4C,CAC1C,MAAO,SAASC,CAAAA,UAAT,CAAoBC,MAApB,CAAmCC,MAAnC,CAA0D,CAC/D;AACA;AAEA;AACA,GAAIJ,IAAJ,CAAU,CACR,GAAIG,MAAM,CAACE,MAAP,CAAcL,IAAd,CAAJ,CAAyB,MAAO,CAAC,CAAR,CACzB,GAAII,MAAM,CAACC,MAAP,CAAcL,IAAd,CAAJ,CAAyB,MAAO,EAAP,CAC1B,CAED;AACA,GAAML,CAAAA,QAAQ,CAAGM,QAAQ,CAACE,MAAM,CAACG,OAAR,CAAzB,CACA,GAAMV,CAAAA,QAAQ,CAAGK,QAAQ,CAACG,MAAM,CAACE,OAAR,CAAzB,CAEA,GAAMC,CAAAA,WAAW,CAAGb,iBAAiB,CAACC,QAAD,CAAWC,QAAX,CAArC,CACA,GAAIW,WAAW,GAAK,CAApB,CAAuB,MAAOA,CAAAA,WAAP,CAEvB;AACA,MAAOJ,CAAAA,MAAM,CAACK,MAAP,CAAcC,WAAd,GAA8BL,MAAM,CAACI,MAAP,CAAcC,WAAd,EAA9B,CAA4D,CAAC,CAA7D,CAAiE,CAAxE,CACD,CAnBD,CAoBD,CAED,MAAO,SAASC,CAAAA,kBAAT,CAA4BC,QAA5B,CAAyF,yBAC1EnB,kBAAkB,EADwD,CACtFoB,OADsF,qBACtFA,OADsF,CAE9F,GAAMZ,CAAAA,IAAI,CAAGV,IAAI,CAACsB,OAAD,CAAjB,CACA,GAAMX,CAAAA,QAAQ,CAAGR,mBAAmB,EAApC,CACA,GAAMoB,CAAAA,UAAU,CAAGtB,OAAO,CAAC,iBAAMQ,CAAAA,kBAAkB,CAACC,IAAD,CAAOC,QAAP,SAAOA,QAAP,UAAOA,QAAP,CAAmB,EAAnB,CAAxB,EAAD,CAAiD,CAACA,QAAD,CAAWD,IAAX,CAAjD,CAA1B,CACA,MAAOT,CAAAA,OAAO,CAAC,UAAM,CACnB,GAAIoB,QAAJ,CAAc,CACZ,MAAO,UAACR,MAAD,CAAgBC,MAAhB,QAAkCS,CAAAA,UAAU,CAACV,MAAD,CAASC,MAAT,CAAV,CAA6B,CAAC,CAAhE,EAAP,CACD,CAFD,IAEO,CACL,MAAOS,CAAAA,UAAP,CACD,CACF,CANa,CAMX,CAACF,QAAD,CAAWE,UAAX,CANW,CAAd,CAOD","sourcesContent":["import { Token, TokenAmount, WETH } from '@bscswap/sdk'\nimport { useMemo } from 'react'\nimport { useActiveWeb3React } from '../../hooks'\nimport { useAllTokenBalances } from '../../state/wallet/hooks'\n\n// compare two token amounts with highest one coming first\nfunction balanceComparator(balanceA?: TokenAmount, balanceB?: TokenAmount) {\n  if (balanceA && balanceB) {\n    return balanceA.greaterThan(balanceB) ? -1 : balanceA.equalTo(balanceB) ? 0 : 1\n  } else if (balanceA && balanceA.greaterThan('0')) {\n    return -1\n  } else if (balanceB && balanceB.greaterThan('0')) {\n    return 1\n  }\n  return 0\n}\n\nfunction getTokenComparator(\n  weth: Token | undefined,\n  balances: { [tokenAddress: string]: TokenAmount }\n): (tokenA: Token, tokenB: Token) => number {\n  return function sortTokens(tokenA: Token, tokenB: Token): number {\n    // -1 = a is first\n    // 1 = b is first\n\n    // sort ETH first\n    if (weth) {\n      if (tokenA.equals(weth)) return -1\n      if (tokenB.equals(weth)) return 1\n    }\n\n    // sort by balances\n    const balanceA = balances[tokenA.address]\n    const balanceB = balances[tokenB.address]\n\n    const balanceComp = balanceComparator(balanceA, balanceB)\n    if (balanceComp !== 0) return balanceComp\n\n    // sort by symbol\n    return tokenA.symbol.toLowerCase() < tokenB.symbol.toLowerCase() ? -1 : 1\n  }\n}\n\nexport function useTokenComparator(inverted: boolean): (tokenA: Token, tokenB: Token) => number {\n  const { chainId } = useActiveWeb3React()\n  const weth = WETH[chainId]\n  const balances = useAllTokenBalances()\n  const comparator = useMemo(() => getTokenComparator(weth, balances ?? {}), [balances, weth])\n  return useMemo(() => {\n    if (inverted) {\n      return (tokenA: Token, tokenB: Token) => comparator(tokenA, tokenB) * -1\n    } else {\n      return comparator\n    }\n  }, [inverted, comparator])\n}\n"]},"metadata":{},"sourceType":"module"}