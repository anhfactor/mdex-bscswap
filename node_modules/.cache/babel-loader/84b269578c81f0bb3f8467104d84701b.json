{"ast":null,"code":"import _slicedToArray from\"/Users/lap14205/Documents/home/blockchain_learning/mdex-bscswap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/lap14205/Documents/home/blockchain_learning/mdex-bscswap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  bottom: 0px;\\n  left: 0px;\\n  width: \",\";\\n  height: 2px;\\n  background-color: \",\";\\n  transition: width 100ms linear;\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n    min-width: 290px;\\n  \"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  display: inline-block;\\n  width: 100%;\\n  padding: 1em;\\n  background-color: \",\";\\n  position: relative;\\n  border-radius: 10px;\\n  padding: 20px;\\n  padding-right: 35px;\\n  z-index: 2;\\n  overflow: hidden;\\n\\n  \",\"\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  right: 10px;\\n  top: 10px;\\n\\n  :hover {\\n    cursor: pointer;\\n  }\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useCallback,useContext,useState}from'react';import{X}from'react-feather';import styled,{ThemeContext}from'styled-components';import useInterval from'../../hooks/useInterval';import{useRemovePopup}from'../../state/application/hooks';import ListUpdatePopup from'./ListUpdatePopup';import TransactionPopup from'./TransactionPopup';export var StyledClose=styled(X)(_templateObject());export var Popup=styled.div(_templateObject2(),function(_ref){var theme=_ref.theme;return theme.bg1;},function(_ref2){var theme=_ref2.theme;return theme.mediaWidth.upToSmall(_templateObject3());});var DELAY=100;var Fader=styled.div(_templateObject4(),function(_ref3){var count=_ref3.count;return\"calc(100% - (100% / \".concat(150/count,\"))\");},function(_ref4){var theme=_ref4.theme;return theme.bg3;});export default function PopupItem(_ref5){var content=_ref5.content,popKey=_ref5.popKey;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),count=_useState2[0],setCount=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isRunning=_useState4[0],setIsRunning=_useState4[1];var removePopup=useRemovePopup();var removeThisPopup=useCallback(function(){return removePopup(popKey);},[popKey,removePopup]);useInterval(function(){count>150?removeThisPopup():setCount(count+1);},isRunning?DELAY:null);var theme=useContext(ThemeContext);var handleMouseEnter=useCallback(function(){return setIsRunning(false);},[]);var handleMouseLeave=useCallback(function(){return setIsRunning(true);},[]);var popupContent;if('txn'in content){var _content$txn=content.txn,hash=_content$txn.hash,success=_content$txn.success,summary=_content$txn.summary;popupContent=/*#__PURE__*/React.createElement(TransactionPopup,{hash:hash,success:success,summary:summary});}else if('listUpdate'in content){var _content$listUpdate=content.listUpdate,listUrl=_content$listUpdate.listUrl,oldList=_content$listUpdate.oldList,newList=_content$listUpdate.newList,auto=_content$listUpdate.auto;popupContent=/*#__PURE__*/React.createElement(ListUpdatePopup,{popKey:popKey,listUrl:listUrl,oldList:oldList,newList:newList,auto:auto});}return/*#__PURE__*/React.createElement(Popup,{onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave},/*#__PURE__*/React.createElement(StyledClose,{color:theme.text2,onClick:function onClick(){return removePopup(popKey);}}),popupContent,/*#__PURE__*/React.createElement(Fader,{count:count}));}","map":{"version":3,"sources":["/Users/lap14205/Documents/home/blockchain_learning/mdex-bscswap/src/components/Popups/PopupItem.tsx"],"names":["React","useCallback","useContext","useState","X","styled","ThemeContext","useInterval","useRemovePopup","ListUpdatePopup","TransactionPopup","StyledClose","Popup","div","theme","bg1","mediaWidth","upToSmall","DELAY","Fader","count","bg3","PopupItem","content","popKey","setCount","isRunning","setIsRunning","removePopup","removeThisPopup","handleMouseEnter","handleMouseLeave","popupContent","txn","hash","success","summary","listUpdate","listUrl","oldList","newList","auto","text2"],"mappings":"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","sourcesContent":["import React, { useCallback, useContext, useState } from 'react'\nimport { X } from 'react-feather'\nimport styled, { ThemeContext } from 'styled-components'\nimport useInterval from '../../hooks/useInterval'\nimport { PopupContent } from '../../state/application/actions'\nimport { useRemovePopup } from '../../state/application/hooks'\nimport ListUpdatePopup from './ListUpdatePopup'\nimport TransactionPopup from './TransactionPopup'\n\nexport const StyledClose = styled(X)`\n  position: absolute;\n  right: 10px;\n  top: 10px;\n\n  :hover {\n    cursor: pointer;\n  }\n`\nexport const Popup = styled.div`\n  display: inline-block;\n  width: 100%;\n  padding: 1em;\n  background-color: ${({ theme }) => theme.bg1};\n  position: relative;\n  border-radius: 10px;\n  padding: 20px;\n  padding-right: 35px;\n  z-index: 2;\n  overflow: hidden;\n\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    min-width: 290px;\n  `}\n`\nconst DELAY = 100\nconst Fader = styled.div<{ count: number }>`\n  position: absolute;\n  bottom: 0px;\n  left: 0px;\n  width: ${({ count }) => `calc(100% - (100% / ${150 / count}))`};\n  height: 2px;\n  background-color: ${({ theme }) => theme.bg3};\n  transition: width 100ms linear;\n`\n\nexport default function PopupItem({ content, popKey }: { content: PopupContent; popKey: string }) {\n  const [count, setCount] = useState(1)\n\n  const [isRunning, setIsRunning] = useState(true)\n  const removePopup = useRemovePopup()\n\n  const removeThisPopup = useCallback(() => removePopup(popKey), [popKey, removePopup])\n\n  useInterval(\n    () => {\n      count > 150 ? removeThisPopup() : setCount(count + 1)\n    },\n    isRunning ? DELAY : null\n  )\n\n  const theme = useContext(ThemeContext)\n\n  const handleMouseEnter = useCallback(() => setIsRunning(false), [])\n  const handleMouseLeave = useCallback(() => setIsRunning(true), [])\n\n  let popupContent\n  if ('txn' in content) {\n    const {\n      txn: { hash, success, summary }\n    } = content\n    popupContent = <TransactionPopup hash={hash} success={success} summary={summary} />\n  } else if ('listUpdate' in content) {\n    const {\n      listUpdate: { listUrl, oldList, newList, auto }\n    } = content\n    popupContent = <ListUpdatePopup popKey={popKey} listUrl={listUrl} oldList={oldList} newList={newList} auto={auto} />\n  }\n\n  return (\n    <Popup onMouseEnter={handleMouseEnter} onMouseLeave={handleMouseLeave}>\n      <StyledClose color={theme.text2} onClick={() => removePopup(popKey)} />\n      {popupContent}\n      <Fader count={count} />\n    </Popup>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}